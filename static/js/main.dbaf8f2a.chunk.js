(this["webpackJsonpbar-chart-race"]=this["webpackJsonpbar-chart-race"]||[]).push([[0],{218:function(t,e,n){},220:function(t,e,n){"use strict";n.r(e);var r=n(8),a=n(0),c=n.n(a),i=n(113),o=n.n(i),u=(n(218),n(6)),s=n.n(u),l=n(15),d=n(4),f=n(91),p=n(2),h=n(1),m=n(90);var g=function(){function t(){return(t=Object(l.a)(s.a.mark((function t(){var e,n,r,a,c,i,o,u,g,b,v,j,x,y,w,O,k,S,A,D,C,F,P,B,M,z,N,E,I,J,R,V,U,X,Y,L,T,W,K,q,G,_,H,Q,Z,$,tt,et,nt,rt,at,ct,it,ot,ut;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ut=function(){return(ut=Object(l.a)(s.a.mark((function t(){var e,n,r=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:0,n=j.transition().duration(nt).ease(h.e).on("end",(function(){e<C.length?(nt=b,h.r(".controls").text("Pauzeer"),ot(e+1)):h.r(".controls").text("Afspelen")})).on("interrupt",(function(){console.log("INTERRUPTED")})),e<C.length&&(L.value(e),S.domain([0,C[e][1][0].midden]),it(C[e],n),at(C[e],n),rt(C[e],n),ct(C[e],n)),t.next=5,n.end().then((function(){})).catch((function(){}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)},ot=function(){return ut.apply(this,arguments)},et=function(t){var e=t.append("g").style("font","bold 12px var(--ftm-graph)").style("font-variant-numeric","tabular-nums").attr("text-anchor","start").selectAll("text");return h.s(".tick").selectAll("line").remove(),h.s(".tick").selectAll("text").remove(),h.s(".slider").selectAll(".parameter-value").selectAll("text").remove(),function(t,n){var r=Object(d.a)(t,2)[1];return e=e.data(r.slice(0,g),(function(t){return t.partij})).join((function(t){return t.append("text").attr("transform",(function(t){return"translate(".concat(S((X.get(t)||t).midden),",").concat(A((X.get(t)||t).ranking),")")})).attr("y",A.bandwidth()/2).attr("x",10).attr("dy","-0.25em").text((function(t){return t.partij})).call((function(t){return t.append("tspan").attr("fill-opacity",.7).attr("font-weight","normal").attr("x",10).attr("dy","1.15em")}))}),(function(t){return t}),(function(t){return t.transition(n).remove().attr("transform",(function(t){return"translate(".concat(S((Y.get(t)||t).midden),",").concat(A((Y.get(t)||t).ranking),")")})).call((function(t){return t.select("tspan").tween("text",(function(t){return tt(t.midden,(Y.get(t)||t).midden)}))}))})).call((function(t){return t.transition(n).attr("transform",(function(t){return"translate(".concat(S(t.midden),",").concat(A(t.ranking),")")})).call((function(t){return t.select("tspan").tween("text",(function(t){return tt((X.get(t)||t).midden,t.midden)}))}))}))}},tt=function(t,e){var n=h.i(t,e);return function(t){this.textContent="\u20ac"+w(n(t))}},$=function(t){var e=t.append("g").selectAll("rect");return function(t,n){var r=Object(d.a)(t,2)[1];return e=e.data(r.slice(0,g),(function(t){return t.partij})).join((function(t){return t.append("rect").attr("fill",(function(t){return Z(t.partij)})).attr("height",A.bandwidth()).attr("x",S(0)).attr("y",(function(t){return A((X.get(t)||t).ranking)})).attr("width",(function(t){return S((X.get(t)||t).midden)-S(0)}))}),(function(t){return t}),(function(t){return t.transition(n).remove().attr("y",(function(t){return A((Y.get(t)||t).ranking)})).attr("width",(function(t){return S((Y.get(t)||t).midden)-S(0)}))})).call((function(t){return t.transition(n).attr("y",(function(t){return A(t.ranking)})).attr("width",(function(t){return S(t.midden)-S(0)}))}))}},Z=function(t){var e="";switch(t){case"D66":e="#B2DF8A";break;case"Forum voor Democratie":case"FvD":e="#9C1616";break;case"VVD":e="#FA9600";break;case"GroenLinks":e="#43B825";break;case"CDA":e="#438A69";break;case"PvdA":e="#FB9B98";break;case"SP":e="#DC3230";break;case"PvdD":e="#B15929";break;case"SGP":e="#F0F025";break;case"DENK":e="#53C5C9";break;case"CU":case"Christen Unie":case"ChristenUnie":e="#1F78B4";break;case"50 Plus":case"50Plus":e="#972EBA";break;case"PVV":e="#88C6C1";break;default:e="var(--link-color)"}return e},Q=function(t){var e=t.append("text").attr("text-anchor","end").attr("x",i-100).attr("y",o.top+u*(g+1)).attr("dy","0.32em").style("font-size","2em").text(O(C[0][0]));return function(t,n){var r=Object(d.a)(t,1)[0];n.end().then((function(){return e.text(O(r))})).catch((function(){}))}},H=function(t){var e=t.append("g").attr("transform","translate(0,".concat(o.top,")")),n=h.b(S).tickFormat(k).ticks(i/160).tickSizeOuter(0).tickSizeInner(-u*(g+A.padding()));return function(t,r){e.transition(r).call(n),e.select(".tick:first-of-type text").remove(),e.selectAll(".tick line").attr("stroke","white"),e.select(".domain").remove()}},D=function(t){var e=Array.from(a,(function(e){return{partij:e,midden:t(e)}}));e.sort((function(t,e){return h.d(t.midden,e.midden)}));for(var n=0;n<e.length;++n)e[n].ranking=Math.min(g,n);return e},k=function(t){return"\u20ac"+x.format(",d")(t)},e=JSON.parse(localStorage.getItem("data")),n=e.filter((function(t){return"0"!==t.partij})),t.next=14,JSON.parse(localStorage.getItem("eventData"));case 14:r=t.sent,console.log(n),a=new Set(n.map((function(t){return t.partij}))),console.log(a),h.g(n,(function(t){return t.partij})),c=Array.from(h.n(n,(function(t){return Object(d.a)(t,1)[0].midden}),(function(t){return t.datum}),(function(t){return t.partij}))).map((function(t){var e=Object(d.a)(t,2),n=e[0],r=e[1];return[new Date(n),r]})).sort((function(t,e){var n=Object(d.a)(t,1)[0],r=Object(d.a)(e,1)[0];return h.a(n,r)})),i=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),1,b=200,v=(o={top:16,right:90,bottom:65,left:5}).top+(u=37)*(g=13)+o.bottom,j=h.r(".barchartdiv").append("svg").attr("width",i).attr("height",v).attr("class","barchart"),x=h.f({decimal:",",thousands:".",grouping:[3],currency:["\u20ac",""]}),y=h.v({dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","maa","apr","mei","jun","jul","aug","sep","okt","nov","dec"]}),w=x.format(",d"),console.log(w),O=y.utcFormat("%e %B %Y"),S=h.p([0,1],[o.left,i-o.right]),A=h.o().domain(h.m(g+1)).rangeRound([o.top,o.top+u*(g+1+.1)]).padding(.1),console.log(D((function(t){return c[0][1].get(t)}))),C=[],z=Object(p.a)(h.l(c));try{for(z.s();!(N=z.n()).done;)for(E=Object(d.a)(N.value,2),I=Object(d.a)(E[0],2),F=I[0],P=I[1],J=Object(d.a)(E[1],2),B=J[0],M=J[1],R=function(t){var e=t/1;C.push([new Date(F*(1-e)+B*e),D((function(t){return(P.get(t)||0)*(1-e)+(M.get(t)||0)*e}))])},V=0;V<=1;++V)R(V)}catch(st){z.e(st)}finally{z.f()}U=h.h(C.flatMap((function(t){return Object(d.a)(t,2)[1]})),(function(t){return t.partij})),X=new Map(U.flatMap((function(t){var e=Object(d.a)(t,2)[1];return h.l(e,(function(t,e){return[e,t]}))}))),Y=new Map(U.flatMap((function(t){var e=Object(d.a)(t,2)[1];return h.l(e)}))),L=Object(m.a)().min(0).max(C.length-1).width(i-80).step(1).fill("var(--ftm-red)").handle(h.t().type(h.u).size(250)()).on("start",(function(t){ot(t)})).on("drag",(function(t){j.interrupt(),ot(t)})),h.r(".barchartdiv").append("svg").attr("width",i).attr("height",20).attr("class","frameslider").append("g").attr("transform","translate(32,10)").call(L),T=Object(f.a)(new Set(n.map((function(t){return t.datum})))).map((function(t){return new Date(t)})),W=Object(f.a)(new Set(n.map((function(t){return t.maand})))).map((function(t){return new Date(t)})),K=Object(m.a)().min(h.k(T)).max(h.j(T)).width(i-o.right+30).tickFormat(y.utcFormat("%B")).tickValues(W),(q=h.r(".barchartdiv").append("svg").attr("class","scaledates").attr("width",i).attr("height",40).append("g").attr("transform","translate(26.5,17)")).call(K),G=h.q().domain([C[0][0],C[C.length-1][0]]).range([0,i-60]),_=h.r("body").append("div").attr("class","tooltip").style("opacity",0),i>400&&q.selectAll("eventCircles").data(r).enter().append("circle").attr("cx",(function(t){return G(new Date(t.datum))})).attr("cy","-3").attr("r","10").attr("fill",(function(t){return Z(t.partij)})).style("opacity",.8).on("mouseover",(function(t,e){h.r(this).style("opacity",.3),_.transition().duration(200).style("opacity",.9),_.html("".concat(e.gebeurtenis)).style("left",t.pageX-20+"px").style("top",t.pageY-54+"px")})).on("mouseout",(function(){h.r(this).style("opacity",1),_.transition().duration(500).style("opacity",0)})),nt=b,rt=$(j),at=H(j),ct=et(j),it=Q(j),ot(0);case 59:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),Object(r.jsx)("div",{className:"barchartdiv",width:"100%"})},b=n(89),v=n(114),j=function(t){return Object(r.jsxs)(v.a,Object(b.a)(Object(b.a)({width:200,height:200,viewBox:"0 0 200 200"},t),{},{children:[Object(r.jsx)("rect",{y:"30",x:"30",rx:"0",ry:"0",height:"25",width:"40"}),Object(r.jsx)("rect",{y:"60",x:"30",rx:"0",ry:"0",height:"25",width:"55"}),Object(r.jsx)("rect",{y:"90",x:"30",rx:"0",ry:"0",height:"25",width:"74"}),Object(r.jsx)("rect",{y:"120",x:"30",rx:"0",ry:"0",height:"25",width:"120"}),Object(r.jsx)("rect",{y:"150",x:"30",rx:"0",ry:"0",height:"25",width:"58"})]}))};j.metadata={name:"Phuong Dao",github:"dao-phuong",description:"Bar Chart",filename:"BarChart"};var x=j;function y(){return(y=Object(l.a)(s.a.mark((function t(e){var n,r,a,c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.data){t.next=6;break}return console.log("all clear"),e("finished"),t.abrupt("return");case 6:i=function(){return(i=Object(l.a)(s.a.mark((function t(){var c,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(n);case 2:return c=t.sent,t.next=5,a(r);case 5:i=t.sent,localStorage.setItem("data",JSON.stringify(c)),localStorage.setItem("eventData",JSON.stringify(i)),e("finished"),console.log(c),console.log(i);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)},c=function(){return(c=Object(l.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.c(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)},a=function(t){return c.apply(this,arguments)},n="https://docs.google.com/spreadsheets/d/e/2PACX-1vSpwttasVjXReLn69FtOXSrwWxYjKqVSKiRenwS9xU76b_-NX6-YRYfRQEwm0ipV3sLAiNPrCz3uO7D/pub?gid=161211961&single=true&output=csv",r="https://docs.google.com/spreadsheets/d/1UkvW4wmthdvaaWvvJS_R5CUiCJZXz6fPDlIKE3ulmjM/export?format=csv",function(){return i.apply(this,arguments)}().catch((function(t){console.log(t),console.log("handled!")}));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=function(t){return y.apply(this,arguments)};var O=function(){var t=Object(a.useState)("loading"),e=Object(d.a)(t,2),n=e[0],c=e[1];return Object(a.useEffect)((function(){function t(){return(t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(c);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),"loading"===n?Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(x,{})}):"finished"===n?Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(g,{})}):void 0},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,225)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),k()}},[[220,1,2]]]);
//# sourceMappingURL=main.dbaf8f2a.chunk.js.map